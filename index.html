
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Documentation Public APIs</title>

    <!-- Bootstrap core CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="style.css" rel="stylesheet">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

<div class="container">

    <div class="blog-header">
        <h1 class="blog-title">Upkeep API Docs</h1>
    </div>

    <div class="row">

        <div class="col-sm-8 blog-main">

            <div class="blog-post">
                <h2>Zapier Status Change Api</h2>
                <p>Sends data to zapier on status change of work order</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://api.onupkeep.com/api/public/workorder-status-change</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>roleId - Role id of the user's company.</li>
                        <li>taskId - Id of the work order.</li>
                        <li>previousStatus - Status before change(open, inProgress, onHold ie format saved in database).</li>
                    </ul>
                </div>
                <p>This api must be called after change of workorder status.</p>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Get User Plan Details</h2>
                <p>Fetch user plan related information from role</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://api.onupkeep.com/api/app/user-plan-status</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>roleId - Role id of the user's company.</li>
                    </ul>
                </div>
                <p>On success user plan information will be returned the format will be similar to cloud function getPremiumUserDetails.</p>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Send Share Invites</h2>
                <p>Send invite to vendor to accept sharing</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://api.onupkeep.com/api/share-invites</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>roleId - Role id of the user's company sending invite.</li>
                        <li>companyName  - Company name of the user's company sending request.</li>
                        <li>vendorId  - Email id of vendor.</li>
                        <li>senderId  - Email id of sender.</li>
                    </ul>
                </div>
                <p>On success invite mail will be sent to the user having accept link https://demo-api.onupkeep.com/api/accept-invite?user=XXXXX&company=XXXX if vendor is not upkeep user message will have please sign up first also.</p>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Accepting invites</h2>
                <p>On clicking above link the invite will be accepted. The sender will also be notified about the invite accept. If the user is not upkeep user, Please sign up first message will be returned</p>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Create shared request</h2>
                <p>Creates a shared request</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://api.onupkeep.com/api/shared-request</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>roleId - Role id of the user's company creating request.</li>
                        <li>vendorId  - Email id of vendor (A drop down can be shown quering sharedInvite class for roleId and is accepted = true.</li>
                        <li>emailAddress  - Email id of requester.</li>
                        <li>title - title of request.</li>
                        <li>additionalInfo - Additional note of request.</li>
                        <li>priority - Number representing priority.</li>
                    </ul>
                </div>
                <p>On success id and title of request will be returned. and mail will be sent to vendor. the acl will have read permission to none and write permission to both sharing companies</p>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Fetch all shared work orders of a company</h2>
                <p>Returns all the shared work orders of a company along with related fields.</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://api.onupkeep.com/api/fetch-shared-workorders</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>roleId - role id of company.</li>
                    </ul>
                </div>
                <p>On success returns all the shared work orders of a company along with related fields.</p>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Fetch a shared work order by id</h2>
                <p>Returns a work order with related fields</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://api.onupkeep.com/api/fetch-shared-workorder</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>id - role id of work order.</li>
                    </ul>
                </div>
                <p>On success returns work order with related fields.</p>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Updating shared work orders</h2>
                <p>Since both the sharing companies have write access to work order it can updated like normal work order</p>
            </div><!-- /.blog-post -->
            <div class="blog-post">
                <h2>Note- These apis are not final changes are required like uploading files in requests,methods,parameter changes but the concept can be tested with these</h2>
            </div>

        </div><!-- /.blog-main -->

    </div><!-- /.row -->

</div><!-- /.container -->
<div class="footer">

</div>


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://code.jquery.com/ui/1.12.1/jquery-ui.min.js"><\/script>')</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>
</html>
