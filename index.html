
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">

    <title>Documentation Public APIs</title>

    <!-- Bootstrap core CSS -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="style.css" rel="stylesheet">


    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>

<div class="container">

    <div class="blog-header">
        <h1 class="blog-title">Upkeep API Docs</h1>
    </div>

    <div class="row">

        <div class="col-sm-8 blog-main">

            <div class="blog-post">
                <h2>Zapier Update Api</h2>
                <p>Sends data to zapier on status change of work order, new work order creation, request approved and new request creation.</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://api.onupkeep.com/api/public/workorder-updated</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>roleId - Role id of the user's company.</li>
                        <li>workOrderId - Id of the work order.</li>
                        <li>event - Type of event (ie 'status_changed','workorder_created','request_created', 'request_approved').</li>
                        <li>userId - Id of the user triggering event.</li>
                        <li>previousStatus - Status before change(open, inProgress, onHold ie format saved in database).This field is required when event is 'status_changed' and needs to be skipped for other events.</li>
                    </ul>
                </div>
                <p>This api must be called after the completion of task ie after workorder/request has been created or status has been changed or request is approved.</p>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Get User Plan Details</h2>
                <p>Fetch user plan related information from role</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://api.onupkeep.com/api/app/user-plan-status</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>roleId - Role id of the user's company.</li>
                    </ul>
                </div>
                <p>On success user plan information will be returned the format will be similar to cloud function getPremiumUserDetails.</p>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Send Share Invites</h2>
                <p>Send invite to vendor to accept sharing</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://demo-api.onupkeep.com/api/share-invites</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>roleId - Role id of the user's company sending invite.</li>
                        <li>companyName  - Company name of the user's company sending request.</li>
                        <li>vendorEmailAddress  - Email id of vendor.</li>
                        <li>senderEmailAddress  - Email id of sender.</li>
                    </ul>
                </div>
                <p>On success invite mail will be sent to the user having accept link https://demo-api.onupkeep.com/api/invite-response?user=XXXXX&company=XXXX&accept=1 if vendor is not upkeep user message will have please sign up first also. Share deny functionality is also there but will be implemented with ui</p>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Accepting invites</h2>
                <p>On clicking above link the invite will be accepted. The sender will also be notified about the invite accept. If the user is not upkeep user, Please sign up first message will be returned</p>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Vendor list</h2>
                <p>Returns vendor list for who have accepted request.</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://demo-api.onupkeep.com/api/vendor-list</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>roleId - Role id of the user's company creating request.</li>
                    </ul>
                </div>
                <p>On success vendorEmailAddresses will have array of user email addresses</p>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Share work order</h2>
                <p>Shares work order with vendor</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://demo-api.onupkeep.com/api/shared-workorder</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>roleId - Role id of the user's company creating request.</li>
                        <li>vendorEmailAddress  - Email id of vendor.</li>
                        <li>senderEmailAddress  - Email id of person sharing work order.</li>
                        <li>workOrderId - id of the work order to be shared.</li>
                    </ul>
                </div>
                <p>On success will return work order object</p>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Fetch all shared work orders of a company</h2>
                <p>Returns all the shared work orders of a company along with related fields.</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://demo-api.onupkeep.com/api/fetch-shared-workorders</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>roleId - role id of company.</li>
                    </ul>
                </div>
                <p>On success returns array of shared work orders objects including related fields.</p>
            </div><!-- /.blog-post -->

            <div class="blog-post">
                <h2>Fetch a shared work order by id</h2>
                <p>Returns a work order with related fields</p>
                <div class="highlight">
                    <h4><span class="key">Endpoint</span>: <span class="val">https://demo-api.onupkeep.com/api/fetch-shared-workorder</span></h4>
                    <h4><span class="key">Method</span>: <span class="val">POST</span></h4>
                    <h4><span class="key">Parameters</span>:</h4>
                    <ul>
                        <li>workOrderId - id of work order.</li>
                    </ul>
                </div>
                <p>On success returns shared work order objects including related fields.</p>
            </div><!-- /.blog-post -->

        </div><!-- /.blog-main -->

    </div><!-- /.row -->

</div><!-- /.container -->
<div class="footer">

</div>


<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://code.jquery.com/ui/1.12.1/jquery-ui.min.js"><\/script>')</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>
</html>
